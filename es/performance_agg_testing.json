{  
   "aggs":{  
      "number_of_sentences": {    
            "filter":{ 
              "and": [ 
                { "range":{ "_doc_month": { "gt":6 } } },
                { "range":{ "_doc_month": { "gt":6 } } }
                ] },
            "aggs": {
              "avg_sentiment": { "avg" : { "field" : "_degreesentimentindex"} }
            }
         }
      }
   }

//WORKING for calculating sentiment project-wide for a specific attribute value

{
   "aggs":{  
      "number_of_sentences": {    
            "filter":{ 
              "and": [ 
                { "term":{ "iso_lang_code": "nl"  } },                
                { "term":{ "_type": "sentence"}}
                ] },
            "aggs": {
              "avg_sentiment": { "avg" : { "field" : "_degreesentimentindex"} }
            }
         }
      }
}

//WORKING for calculating document count project-wide for a specific attribute value

{
    "aggs" : {
        "number_of_sentences" : {
            "filter":{
              "and": [ 
              { "term":{ "iso_lang_code": "nl"  } },                
              { "term":{ "_type": "sentence"}}
              ] },
              "aggs": {
                "distinct_documents" : { "cardinality" : { "field" : "_id_document" } } 
              }
        }
    }
}

//WORKING attribute report filtered by unstructured data
{
  "aggs": {
    "global_filter": {
      "filter": {
        "and": [
          {
            "term": {
              "_type": "sentence"
            }
          },
          {
            "or": [
              {
                "and": 
                [
                  { 
                    "terms": 
                    {
                      "_words": ["am","Im","I was","we are","we were","made me","made us","us are","makes me","making me","I felt","had me feeling","me feel","make me","make us","My wife was","My husband was","My daughter was","My son was","My mother was","My mom was","My mommy was","My father was","My dad was","My daddy was","My grandmother was","My grandma was","My grandfather was","My grandpa was","My neighbor was","My friend was","My friends was","My niece was","My nephew was","My cousin was","My aunt was","My uncle was","My wife felt","My husband felt","My daughter felt","My son felt","My mother felt","My mom felt","My mommy felt","My father felt","My dad felt","My daddy felt","My grandmother felt","My grandma felt","My grandfather felt","My grandpa felt","My neighbor felt","My friend felt","My friends felt","My neice felt","My nephew felt","My cousin felt","My aunt felt","My uncle felt","Made My wife ","Made My husband ","Made My daughter ","Made My son ","Made My mother ","Made My mom ","Made My mommy ","Made My father ","Made My dad ","Made My daddy ","Made My grandmother ","Made My grandma ","Made My grandfather ","Made My grandpa ","Made My neighbor ","Made My friend ","Made My friends ","Made My neice ","Made My nephew ","Made My cousin ","Made My aunt ","Made My uncle ","Made My wife ","Made My husband ","Made My daughter ","Made My son ","Made My mother ","Made My mom ","Made My mommy ","Made My father ","Made My dad ","Made My daddy ","Made My grandmother ","Made My grandma ","Made My grandfather ","Made My grandpa ","Made My neighbor ","Made My friend ","Made My friends ","Made My niece ","Made My nephew ","Made My cousin ","Made My aunt ","Made My uncle "]
                    }
                  },
                  {
                    "terms":
                    {
                      "_words": ["happy", "elated", "delighted", "glad", "overjoyed", "thankful", "satisfied", "pleased", "thrilled", "in heaven", "like heaven", "blissfully", "ecstatic", "extatic", "at ease", "relaxed", "comfort", "comforts", "comfortable", "cloud nine", "pleasantly", "happily", "content", "blessing", "blessed", "grateful", "greatful", "joyful", "joyous", "enjoyment", "enjoyed"] 
                    }
                  },
                  {
                    "not":
                    {
                      "terms": 
                      {
                        "_words": ["are never","am never","never makes","never made","never make","not happy","not too happy","not really happy","not very happy","not that happy","not always happy","less than happy","not elated","not too elated","not really elated","not very elated","not that elated","not always elated","less than elated","not delighted","not too delighted","not really delighted","not very delighted","not that delighted","not always delighted","less than delighted","not glad","not too glad","not really glad","not very glad","not that glad","not always glad","less than glad","not overjoyed","not too overjoyed","not really overjoyed","not very overjoyed","not that overjoyed","not always overjoyed","less than overjoyed","not thankful","not too thankful","not really thankful","not very thankful","not that thankful","not always thankful","less than thankful","not satisfied","not too satisfied","not really satisfied","not very satisfied","not that satisfied","not always satisfied","less than satisfied","not pleased","not too pleased","not really pleased","not very pleased","not that pleased","not always pleased","less than pleased","not thrilled","not too thrilled","not really thrilled","not very thrilled","not that thrilled","not always thrilled","less than thrilled","not blissfully","not too blissfully","not really blissfully","not very blissfully","not that blissfully","not always blissfully","less than blissfully","not ecstatic","not too ecstatic","not really ecstatic","not very ecstatic","not that ecstatic","not always ecstatic","less than ecstatic","not extatic","not too extatic","not really extatic","not very extatic","not that extatic","not always extatic","less than extatic","not relaxed","not too relaxed","not really relaxed","not very relaxed","not that relaxed","not always relaxed","less than relaxed","not comfort","not too comfort","not really comfort","not very comfort","not that comfort","not always comfort","less than comfort","not comforts","not too comforts","not really comforts","not very comforts","not that comforts","not always comforts","less than comforts","not comfortable","not too comfortable","not really comfortable","not very comfortable","not that comfortable","not always comfortable","less than comfortable","not pleasantly","not too pleasantly","not really pleasantly","not very pleasantly","not that pleasantly","not always pleasantly","less than pleasantly","not happily","not too happily","not really happily","not very happily","not that happily","not always happily","less than happily","not content","not too content","not really content","not very content","not that content","not always content","less than content","not at ease","I am not","im not","we were not","we are not","us are not","dis-satisfied","no longer satisfied","no longer happy","not make me","not make us","not make her","not make him","not a happy","not a very good","not very good","never very good","not a really good","not be happy","can not say","can not tell","not at all pleasurable","did not try","did not even try","difficult to say","hard to say","not have been happy","not get comfortable","not feel"," un-satisfied"]
                      }
                    }
                  }
                ]              
              }
            ]
          }
        ]
      },
      "aggs": {
        "language_codes": {
          "terms": {
            "field": "iso_lang_code",
            "size": 50
          },
          "aggs": {
            "distinct_documents": {
              "cardinality": {
                "field": "_id_document"
              }
            },
            "avg_sentiment": {
              "avg": {
                "field": "_degreesentimentindex"
              }
            }
          }
        }
      }
    }
  }
}